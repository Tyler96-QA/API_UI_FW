{"name": "cashu入金：前置-从BOS登录GM2.0", "status": "passed", "description": "\n        creditCard入金逻辑如下：\n        根据主账号查询入金接口所需字段，从数据库获取\n        根据交易账号查询交易账号币种，组别，地区等，从数据库获取\n        根据交易账号币种，渠道币种，查询入金汇率。换算入金金额\n        根据数据库查询的渠道手续费charge，换算入金手续费\n        以上查询为每个接口提供了必传参数。入金只需提供对应测试环境的交易账号，主账号即可\n        ", "steps": [{"name": "判断是否需要对字符串进行替换操作，将#key#替换成真实的值", "status": "passed", "steps": [{"name": "字符串中没有要替换的mark", "status": "passed", "start": 1684047839826, "stop": 1684047839828}, {"name": "返回的字符串为str：\nhttps://pj-at20-crm-api-k8s-uat.agile168.com/v1/loginToClientPortal/login", "status": "passed", "start": 1684047839828, "stop": 1684047839830}], "parameters": [{"name": "req_str", "value": "'https://pj-at20-crm-api-k8s-uat.agile168.com/v1/loginToClientPortal/login'"}, {"name": "pattern", "value": "'#(\\w+)#'"}], "start": 1684047839826, "stop": 1684047839830}, {"name": "请求发送以前，对请求数据进行内置方法处理：", "status": "passed", "steps": [{"name": "请求数据json是否有要替换的占位符", "status": "passed", "steps": [{"name": "判断是否需要对字符串进行替换操作，将#key#替换成真实的值", "status": "passed", "steps": [{"name": "字符串中有要替换的mark,从全局变量或者内置方法中替换mark", "status": "passed", "start": 1684047839833, "stop": 1684047839834}, {"name": "从全局变量类的属性中获取值来替换字符串中的mark：将 #domain# 替换为https://pj-at20-client-portal-uat.agile168.com", "status": "passed", "start": 1684047839879, "stop": 1684047839879}, {"name": "从全局变量类的属性中获取值来替换字符串中的mark：将 #account# 替换为1000015843", "status": "passed", "start": 1684047839938, "stop": 1684047839938}, {"name": "从全局变量类的属性中获取值来替换字符串中的mark：将 #AREA# 替换为GM", "status": "passed", "start": 1684047839941, "stop": 1684047839941}, {"name": "返回的字符串为str：\n{\"domain\":\"https://pj-at20-client-portal-uat.agile168.com\",\"loginType\":\"accountNumber\",\"loginNumber\":\"1000015843\",\"lang\":\"cn\",\"entity\":\"GM\",\"ip\":\"202.134.96.17\"}", "status": "passed", "start": 1684047839941, "stop": 1684047839942}], "parameters": [{"name": "req_str", "value": "'{\"domain\":\"#domain#\",\"loginType\":\"accountNumber\",\"loginNumber\":\"#account#\",\"lang\":\"cn\",\"entity\":\"#AREA#\",\"ip\":\"202.134.96.17\"}'"}, {"name": "pattern", "value": "'#(\\w+)#'"}], "start": 1684047839833, "stop": 1684047839942}], "start": 1684047839831, "stop": 1684047839942}, {"name": "该请求需要传递token，从系统变量中获取bos_token：eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoidHlsZXIudGFuZyIsImlhdCI6MTY4NDA0NzgzOSwiZXhwIjoxNjg0MTM0MjM5fQ.98tsqSqfHK6wZFXFSoM2s8ZA8X9IHWUywjqtNCII6JE,请求域名：pj-at20-crm-api-k8s-uat.agile168.com", "status": "passed", "start": 1684047839943, "stop": 1684047839943}], "start": 1684047839831, "stop": 1684047839949}, {"name": "发起http/https请求", "status": "passed", "steps": [{"name": "发起请求，请求url：https://pj-at20-crm-api-k8s-uat.agile168.com/v1/loginToClientPortal/login，\n请求头：{'accept-language': 'zh,zh-CN;q=0.9,en;q=0.8', 'authentication': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoidHlsZXIudGFuZyIsImlhdCI6MTY4NDA0NzgzOSwiZXhwIjoxNjg0MTM0MjM5fQ.98tsqSqfHK6wZFXFSoM2s8ZA8X9IHWUywjqtNCII6JE'},\n请求数据：json:{'domain': 'https://pj-at20-client-portal-uat.agile168.com', 'loginType': 'accountNumber', 'loginNumber': '1000015843', 'lang': 'cn', 'entity': 'GM', 'ip': '202.134.96.17'};\ndata:None;\nfiles:None;\nparams:None", "status": "passed", "start": 1684047840301, "stop": 1684047840303}], "start": 1684047839950, "stop": 1684047840543}, {"name": "处理响应数据", "status": "passed", "steps": [{"name": "将响应数据转换为字典类型", "status": "passed", "steps": [{"name": "将响应的json格式数据转换位字典", "status": "passed", "start": 1684047840545, "stop": 1684047840545}, {"name": "最终响应结果为：\n{'data': {'code': 1004, 'message': 'success', 'data': {'token': {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IlNvS0tiaFZOZmNyVlVTdlNWbmZjdy15ZTU2eEZ1YUlLYURNcTR3M2xRVEEifQ.eyJqdGkiOiJ3c3VRaTRQbnZSN3Zmbm5MVTR4T04iLCJzdWIiOiI5M2FhN2EyZi0wNDNkLTRmM2QtOTVkOS01ZTMxNDcxYmMxNjYiLCJpc3MiOiJodHRwczovL2F0LWlkcC11YXQuYXRmeGRldi5jb20iLCJpYXQiOjE2ODQwNDc4NDAsImV4cCI6MTY4NDA1MTQ0MCwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCBwaG9uZSBudCBhZGRyZXNzIGVudGl0eSBlbmNyeXB0X3NlY3JldCIsImF1ZCI6ImJvcyJ9.jWym9kmG6TPC5V3ulEqB8a6jycRAhHZq7ki5qlRAObkQy8Ic4B6NOlDDMzFHc4aMRMSg-fDYqwaii7zcRjmzwXwUHoV9Xpo-ceWKpGtgm0xahkVDWzCrCe-lcy1PuUyCiHKYiXhBmYFCxknrjU5-9w6Kn9Ft7CTH9b0OKPLiHdRdq9DlLgRsKiGsIilrpYj9pl-5if9Lw0D5dUdbKpapHNz3zjAgAE-Ekr5isOnMw6akbrDpBKSie7aN6-NqwZbWsxRIFJCfKBQKQVhq_OAiaSszs9geKjD42G9T4s408knui8E0j29_1JvIbd1LqOxJToDeYf-L17ZkCKz0nn2mAw', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IlNvS0tiaFZOZmNyVlVTdlNWbmZjdy15ZTU2eEZ1YUlLYURNcTR3M2xRVEEifQ.eyJzdWIiOiI5M2FhN2EyZi0wNDNkLTRmM2QtOTVkOS01ZTMxNDcxYmMxNjYiLCJuYW1lIjoiVEVTVCBRVUVZMjc1NlRZTEVSIiwiZW1haWwiOiJieGlhbmdAemhvdS5uZXQiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwicGhvbmVfbnVtYmVyIjoiOTMxMzI0NDIzMTM1NyIsInBob25lX251bWJlcl92ZXJpZmllZCI6ZmFsc2UsInJvbGVzIjpbXSwiY3VzdG9tIjp7ImRldmljZV9pZCI6IiIsImFjY291bnROdW1iZXIiOjEwMDAwMTU4NDN9LCJlbnRpdHkiOiJHTSIsImVuY3J5cHRfc2VjcmV0IjoiTXZxV3cwaVE4L3pzSFBsZjE0MHBhZz09Iiwibm9uY2UiOiIiLCJhdF9oYXNoIjoiIiwic2lkIjoiIiwiYXVkIjoiYm9zIiwiZXhwIjoxNjg0MDUxNDQwLCJpYXQiOjE2ODQwNDc4NDAsImlzcyI6Imh0dHBzOi8vYXQtaWRwLXVhdC5hdGZ4ZGV2LmNvbSJ9.c7xD4psEh4pqcksNikTCxeOmOQuX5Jv_-pKqCmftiEJrDv5fb_YI4xtYoxO6BtVW5dQ_jjgFqaNJXD_0u9CcBACduZDVvxmqfQg_Wx49j_DEU1Y8JV-5iqha9sDPJUZjQ0PMjmQ7RJF1dK6DxX25L8vPTcCEoxNwDNZm08ypkEajUPee36FQ7H72vQC3YE5m7Vj08zb5joNHPnjekkQ8VmoLFApN2TmGfyFGdKurpgUt9jroG8eEjFNhWyb8nguEPp7hxvhLIMDAuX9kshjZGr3yTIjB020TV0HH4xZn1CTogXt7VMS1pSGbD1USfPjRbXvu7N48f7n1R7-SwmpRXw', 'expires_in': 3600, 'token_type': 'Bearer'}, 'cpHomeUrl': 'https://at-client-portal-uat.atfxdev.com'}}, 'statusCode': 200, 'message': 'Success'}", "status": "passed", "start": 1684047840545, "stop": 1684047840547}], "parameters": [{"name": "resp_decrypt", "value": "None"}, {"name": "resp", "value": "<Response [201]>"}], "start": 1684047840543, "stop": 1684047840547}, {"name": "从响应结果中提取数据设置为全局变量", "status": "passed", "steps": [{"name": "通过jsonpath表达式从响应结果中提取数据，并设置为全局变量", "status": "passed", "steps": [{"name": "判断是否需要对字符串进行替换操作，将#key#替换成真实的值", "status": "passed", "steps": [{"name": "字符串中没有要替换的mark", "status": "passed", "start": 1684047840548, "stop": 1684047840550}, {"name": "返回的字符串为str：\n{\"cp_token\":\"$..id_token\"}", "status": "passed", "start": 1684047840550, "stop": 1684047840556}], "parameters": [{"name": "req_str", "value": "'{\"cp_token\":\"$..id_token\"}'"}, {"name": "pattern", "value": "'#(\\w+)#'"}], "start": 1684047840548, "stop": 1684047840556}, {"name": "需要从响应数据中提取的字段为：['cp_token']", "status": "passed", "start": 1684047840556, "stop": 1684047840560}, {"name": "从响应数据中设置的全局变量为：cp_token：eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IlNvS0tiaFZOZmNyVlVTdlNWbmZjdy15ZTU2eEZ1YUlLYURNcTR3M2xRVEEifQ.eyJzdWIiOiI5M2FhN2EyZi0wNDNkLTRmM2QtOTVkOS01ZTMxNDcxYmMxNjYiLCJuYW1lIjoiVEVTVCBRVUVZMjc1NlRZTEVSIiwiZW1haWwiOiJieGlhbmdAemhvdS5uZXQiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwicGhvbmVfbnVtYmVyIjoiOTMxMzI0NDIzMTM1NyIsInBob25lX251bWJlcl92ZXJpZmllZCI6ZmFsc2UsInJvbGVzIjpbXSwiY3VzdG9tIjp7ImRldmljZV9pZCI6IiIsImFjY291bnROdW1iZXIiOjEwMDAwMTU4NDN9LCJlbnRpdHkiOiJHTSIsImVuY3J5cHRfc2VjcmV0IjoiTXZxV3cwaVE4L3pzSFBsZjE0MHBhZz09Iiwibm9uY2UiOiIiLCJhdF9oYXNoIjoiIiwic2lkIjoiIiwiYXVkIjoiYm9zIiwiZXhwIjoxNjg0MDUxNDQwLCJpYXQiOjE2ODQwNDc4NDAsImlzcyI6Imh0dHBzOi8vYXQtaWRwLXVhdC5hdGZ4ZGV2LmNvbSJ9.c7xD4psEh4pqcksNikTCxeOmOQuX5Jv_-pKqCmftiEJrDv5fb_YI4xtYoxO6BtVW5dQ_jjgFqaNJXD_0u9CcBACduZDVvxmqfQg_Wx49j_DEU1Y8JV-5iqha9sDPJUZjQ0PMjmQ7RJF1dK6DxX25L8vPTcCEoxNwDNZm08ypkEajUPee36FQ7H72vQC3YE5m7Vj08zb5joNHPnjekkQ8VmoLFApN2TmGfyFGdKurpgUt9jroG8eEjFNhWyb8nguEPp7hxvhLIMDAuX9kshjZGr3yTIjB020TV0HH4xZn1CTogXt7VMS1pSGbD1USfPjRbXvu7N48f7n1R7-SwmpRXw", "status": "passed", "start": 1684047840560, "stop": 1684047840567}], "parameters": [{"name": "extract_str", "value": "'{\"cp_token\":\"$..id_token\"}'"}, {"name": "resp_data", "value": "{'data': {'code': 1004, 'message': 'success', 'data': {'token': {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IlNvS0tiaFZOZmNyVlVTdlNWbmZjdy15ZTU2eEZ1YUlLYURNcTR3M2xRVEEifQ.eyJqdGkiOiJ3c3VRaTRQbnZSN3Zmbm5MVTR4T04iLCJzdWIiOiI5M2FhN2EyZi0wNDNkLTRmM2QtOTVkOS01ZTMxNDcxYmMxNjYiLCJpc3MiOiJodHRwczovL2F0LWlkcC11YXQuYXRmeGRldi5jb20iLCJpYXQiOjE2ODQwNDc4NDAsImV4cCI6MTY4NDA1MTQ0MCwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCBwaG9uZSBudCBhZGRyZXNzIGVudGl0eSBlbmNyeXB0X3NlY3JldCIsImF1ZCI6ImJvcyJ9.jWym9kmG6TPC5V3ulEqB8a6jycRAhHZq7ki5qlRAObkQy8Ic4B6NOlDDMzFHc4aMRMSg-fDYqwaii7zcRjmzwXwUHoV9Xpo-ceWKpGtgm0xahkVDWzCrCe-lcy1PuUyCiHKYiXhBmYFCxknrjU5-9w6Kn9Ft7CTH9b0OKPLiHdRdq9DlLgRsKiGsIilrpYj9pl-5if9Lw0D5dUdbKpapHNz3zjAgAE-Ekr5isOnMw6akbrDpBKSie7aN6-NqwZbWsxRIFJCfKBQKQVhq_OAiaSszs9geKjD42G9T4s408knui8E0j29_1JvIbd1LqOxJToDeYf-L17ZkCKz0nn2mAw', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IlNvS0tiaFZOZmNyVlVTdlNWbmZjdy15ZTU2eEZ1YUlLYURNcTR3M2xRVEEifQ.eyJzdWIiOiI5M2FhN2EyZi0wNDNkLTRmM2QtOTVkOS01ZTMxNDcxYmMxNjYiLCJuYW1lIjoiVEVTVCBRVUVZMjc1NlRZTEVSIiwiZW1haWwiOiJieGlhbmdAemhvdS5uZXQiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwicGhvbmVfbnVtYmVyIjoiOTMxMzI0NDIzMTM1NyIsInBob25lX251bWJlcl92ZXJpZmllZCI6ZmFsc2UsInJvbGVzIjpbXSwiY3VzdG9tIjp7ImRldmljZV9pZCI6IiIsImFjY291bnROdW1iZXIiOjEwMDAwMTU4NDN9LCJlbnRpdHkiOiJHTSIsImVuY3J5cHRfc2VjcmV0IjoiTXZxV3cwaVE4L3pzSFBsZjE0MHBhZz09Iiwibm9uY2UiOiIiLCJhdF9oYXNoIjoiIiwic2lkIjoiIiwiYXVkIjoiYm9zIiwiZXhwIjoxNjg0MDUxNDQwLCJpYXQiOjE2ODQwNDc4NDAsImlzcyI6Imh0dHBzOi8vYXQtaWRwLXVhdC5hdGZ4ZGV2LmNvbSJ9.c7xD4psEh4pqcksNikTCxeOmOQuX5Jv_-pKqCmftiEJrDv5fb_YI4xtYoxO6BtVW5dQ_jjgFqaNJXD_0u9CcBACduZDVvxmqfQg_Wx49j_DEU1Y8JV-5iqha9sDPJUZjQ0PMjmQ7RJF1dK6DxX25L8vPTcCEoxNwDNZm08ypkEajUPee36FQ7H72vQC3YE5m7Vj08zb5joNHPnjekkQ8VmoLFApN2TmGfyFGdKurpgUt9jroG8eEjFNhWyb8nguEPp7hxvhLIMDAuX9kshjZGr3yTIjB020TV0HH4xZn1CTogXt7VMS1pSGbD1USfPjRbXvu7N48f7n1R7-SwmpRXw', 'expires_in': 3600, 'token_type': 'Bearer'}, 'cpHomeUrl': 'https://at-client-portal-uat.atfxdev.com'}}, 'statusCode': 200, 'message': 'Success'}"}], "start": 1684047840548, "stop": 1684047840567}], "start": 1684047840547, "stop": 1684047840567}, {"name": "断言响应数据", "status": "passed", "steps": [{"name": "判断断言字符串中是否有要替换的占位符", "status": "passed", "steps": [{"name": "判断是否需要对字符串进行替换操作，将#key#替换成真实的值", "status": "passed", "steps": [{"name": "字符串中没有要替换的mark", "status": "passed", "start": 1684047840574, "stop": 1684047840577}, {"name": "返回的字符串为str：\n{\"message\": \"Success\"}", "status": "passed", "start": 1684047840577, "stop": 1684047840581}], "parameters": [{"name": "req_str", "value": "'{\"message\": \"Success\"}'"}, {"name": "pattern", "value": "'#(\\w+)#'"}], "start": 1684047840574, "stop": 1684047840581}, {"name": "断言响应结果中的 message字段的值 Success 是否与预期 Success 一致", "status": "passed", "start": 1684047840584, "stop": 1684047840594}], "parameters": [{"name": "resp_dict", "value": "{'data': {'code': 1004, 'message': 'success', 'data': {'token': {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IlNvS0tiaFZOZmNyVlVTdlNWbmZjdy15ZTU2eEZ1YUlLYURNcTR3M2xRVEEifQ.eyJqdGkiOiJ3c3VRaTRQbnZSN3Zmbm5MVTR4T04iLCJzdWIiOiI5M2FhN2EyZi0wNDNkLTRmM2QtOTVkOS01ZTMxNDcxYmMxNjYiLCJpc3MiOiJodHRwczovL2F0LWlkcC11YXQuYXRmeGRldi5jb20iLCJpYXQiOjE2ODQwNDc4NDAsImV4cCI6MTY4NDA1MTQ0MCwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCBwaG9uZSBudCBhZGRyZXNzIGVudGl0eSBlbmNyeXB0X3NlY3JldCIsImF1ZCI6ImJvcyJ9.jWym9kmG6TPC5V3ulEqB8a6jycRAhHZq7ki5qlRAObkQy8Ic4B6NOlDDMzFHc4aMRMSg-fDYqwaii7zcRjmzwXwUHoV9Xpo-ceWKpGtgm0xahkVDWzCrCe-lcy1PuUyCiHKYiXhBmYFCxknrjU5-9w6Kn9Ft7CTH9b0OKPLiHdRdq9DlLgRsKiGsIilrpYj9pl-5if9Lw0D5dUdbKpapHNz3zjAgAE-Ekr5isOnMw6akbrDpBKSie7aN6-NqwZbWsxRIFJCfKBQKQVhq_OAiaSszs9geKjD42G9T4s408knui8E0j29_1JvIbd1LqOxJToDeYf-L17ZkCKz0nn2mAw', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IlNvS0tiaFZOZmNyVlVTdlNWbmZjdy15ZTU2eEZ1YUlLYURNcTR3M2xRVEEifQ.eyJzdWIiOiI5M2FhN2EyZi0wNDNkLTRmM2QtOTVkOS01ZTMxNDcxYmMxNjYiLCJuYW1lIjoiVEVTVCBRVUVZMjc1NlRZTEVSIiwiZW1haWwiOiJieGlhbmdAemhvdS5uZXQiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwicGhvbmVfbnVtYmVyIjoiOTMxMzI0NDIzMTM1NyIsInBob25lX251bWJlcl92ZXJpZmllZCI6ZmFsc2UsInJvbGVzIjpbXSwiY3VzdG9tIjp7ImRldmljZV9pZCI6IiIsImFjY291bnROdW1iZXIiOjEwMDAwMTU4NDN9LCJlbnRpdHkiOiJHTSIsImVuY3J5cHRfc2VjcmV0IjoiTXZxV3cwaVE4L3pzSFBsZjE0MHBhZz09Iiwibm9uY2UiOiIiLCJhdF9oYXNoIjoiIiwic2lkIjoiIiwiYXVkIjoiYm9zIiwiZXhwIjoxNjg0MDUxNDQwLCJpYXQiOjE2ODQwNDc4NDAsImlzcyI6Imh0dHBzOi8vYXQtaWRwLXVhdC5hdGZ4ZGV2LmNvbSJ9.c7xD4psEh4pqcksNikTCxeOmOQuX5Jv_-pKqCmftiEJrDv5fb_YI4xtYoxO6BtVW5dQ_jjgFqaNJXD_0u9CcBACduZDVvxmqfQg_Wx49j_DEU1Y8JV-5iqha9sDPJUZjQ0PMjmQ7RJF1dK6DxX25L8vPTcCEoxNwDNZm08ypkEajUPee36FQ7H72vQC3YE5m7Vj08zb5joNHPnjekkQ8VmoLFApN2TmGfyFGdKurpgUt9jroG8eEjFNhWyb8nguEPp7hxvhLIMDAuX9kshjZGr3yTIjB020TV0HH4xZn1CTogXt7VMS1pSGbD1USfPjRbXvu7N48f7n1R7-SwmpRXw', 'expires_in': 3600, 'token_type': 'Bearer'}, 'cpHomeUrl': 'https://at-client-portal-uat.atfxdev.com'}}, 'statusCode': 200, 'message': 'Success'}"}, {"name": "excepted_actions", "value": "'{\"message\": \"Success\"}'"}], "start": 1684047840571, "stop": 1684047840594}], "start": 1684047840567, "stop": 1684047840594}], "start": 1684047840543, "stop": 1684047840594}], "start": 1684047839776, "stop": 1684047840595, "uuid": "beca0427-ba34-43ef-8c11-06bc086e0fa6", "historyId": "bb371c01a722aa81bb6b5390580df89d", "testCaseId": "f11826ff8a0db293c451053fea5bd065", "fullName": "testcase.test_creditcard_deposit_gm.TestCreditCard#test_cashu_deposit", "labels": [{"name": "suite", "value": "creditCard入金"}, {"name": "tag", "value": "flaky(reruns=2, reruns_delay=2)"}, {"name": "tag", "value": "high"}, {"name": "tag", "value": "@pytest.mark.usefixtures('deposit_withdrawal_info')"}, {"name": "tag", "value": "run(order=2)"}, {"name": "parentSuite", "value": "testcase"}, {"name": "subSuite", "value": "TestCreditCard"}, {"name": "host", "value": "SZVDI043"}, {"name": "thread", "value": "64096-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcase.test_creditcard_deposit_gm"}]}