{"name": "cardpay入金：转完成", "status": "passed", "description": "\n        creditCard入金逻辑如下：\n        根据主账号查询入金接口所需字段，从数据库获取\n        根据交易账号查询交易账号币种，组别，地区等，从数据库获取\n        根据交易账号币种，渠道币种，查询入金汇率。换算入金金额\n        根据数据库查询的渠道手续费charge，换算入金手续费\n        以上查询为每个接口提供了必传参数。入金只需提供对应测试环境的交易账号，主账号即可\n        ", "steps": [{"name": "判断是否需要对字符串进行替换操作，将#key#替换成真实的值", "status": "passed", "steps": [{"name": "字符串中有要替换的mark,从全局变量或者内置方法中替换mark", "status": "passed", "start": 1684047827620, "stop": 1684047827622}, {"name": "从全局变量类的属性中获取值来替换字符串中的mark：将 #ENVIRONMENT# 替换为uat", "status": "passed", "start": 1684047827683, "stop": 1684047827683}, {"name": "返回的字符串为str：\nhttps://pj-at20-crm-api-k8s-uat.agile168.com/v1/depositManage/finish", "status": "passed", "start": 1684047827683, "stop": 1684047827791}], "parameters": [{"name": "req_str", "value": "'https://pj-at20-crm-api-k8s-#ENVIRONMENT#.agile168.com/v1/depositManage/finish'"}, {"name": "pattern", "value": "'#(\\w+)#'"}], "start": 1684047827620, "stop": 1684047827791}, {"name": "请求发送以前，对请求数据进行内置方法处理：", "status": "passed", "steps": [{"name": "请求数据json是否有要替换的占位符", "status": "passed", "steps": [{"name": "判断是否需要对字符串进行替换操作，将#key#替换成真实的值", "status": "passed", "steps": [{"name": "字符串中有要替换的mark,从全局变量或者内置方法中替换mark", "status": "passed", "start": 1684047827795, "stop": 1684047827803}, {"name": "从全局变量类的属性中获取值来替换字符串中的mark：将 #account# 替换为1000015843", "status": "passed", "start": 1684047827853, "stop": 1684047827853}, {"name": "从全局变量类的属性中获取值来替换字符串中的mark：将 #ID# 替换为6548", "status": "passed", "start": 1684047827854, "stop": 1684047827855}, {"name": "从全局变量类的属性中获取值来替换字符串中的mark：将 #AREA# 替换为GM", "status": "passed", "start": 1684047827861, "stop": 1684047827861}, {"name": "返回的字符串为str：\n{\n \"accountNumberArr\": [{\n  \"accountNumber\": 1000015843,\n  \"ID\": 6548\n }],\n \"entity\":\"GM\",\n \"IDArr\": [6548]\n}", "status": "passed", "start": 1684047827861, "stop": 1684047827911}], "parameters": [{"name": "req_str", "value": "'{\n \"accountNumberArr\": [{\n  \"accountNumber\": #account#,\n  \"ID\": #ID#\n }],\n \"entity\":\"#AREA#\",\n \"IDArr\": [#ID#]\n}'"}, {"name": "pattern", "value": "'#(\\w+)#'"}], "start": 1684047827795, "stop": 1684047827911}], "start": 1684047827791, "stop": 1684047827911}, {"name": "该请求需要传递token，从系统变量中获取bos_token：eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoidHlsZXIudGFuZzIiLCJpYXQiOjE2ODQwNDc4MjYsImV4cCI6MTY4NDEzNDIyNn0.FffrK4Sk2il4YXLeOQMieC_l0QEe_7XS7ij1mcwb-ZM,请求域名：pj-at20-crm-api-k8s-uat.agile168.com", "status": "passed", "start": 1684047827911, "stop": 1684047827911}], "start": 1684047827791, "stop": 1684047827912}, {"name": "发起http/https请求", "status": "passed", "steps": [{"name": "发起请求，请求url：https://pj-at20-crm-api-k8s-uat.agile168.com/v1/depositManage/finish，\n请求头：{'accept-language': 'zh,zh-CN;q=0.9,en;q=0.8', 'authentication': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoidHlsZXIudGFuZzIiLCJpYXQiOjE2ODQwNDc4MjYsImV4cCI6MTY4NDEzNDIyNn0.FffrK4Sk2il4YXLeOQMieC_l0QEe_7XS7ij1mcwb-ZM'},\n请求数据：json:{'accountNumberArr': [{'accountNumber': 1000015843, 'ID': 6548}], 'entity': 'GM', 'IDArr': [6548]};\ndata:None;\nfiles:None;\nparams:None", "status": "passed", "start": 1684047827968, "stop": 1684047827970}], "start": 1684047827912, "stop": 1684047829453}, {"name": "处理响应数据", "status": "passed", "steps": [{"name": "将响应数据转换为字典类型", "status": "passed", "steps": [{"name": "将响应的json格式数据转换位字典", "status": "passed", "start": 1684047829455, "stop": 1684047829455}, {"name": "最终响应结果为：\n{'data': {'code': 1002, 'message': '', 'data': {'successIdArr': [6548], 'callMtFailureIdArr': [], 'callbackFailureIdArr': [], 'procedureFeeFailureIdArr': [], 'statusChangedIdArr': []}}, 'statusCode': 200, 'message': 'Success'}", "status": "passed", "start": 1684047829455, "stop": 1684047829457}], "parameters": [{"name": "resp_decrypt", "value": "None"}, {"name": "resp", "value": "<Response [201]>"}], "start": 1684047829453, "stop": 1684047829457}, {"name": "断言响应数据", "status": "passed", "steps": [{"name": "判断断言字符串中是否有要替换的占位符", "status": "passed", "steps": [{"name": "判断是否需要对字符串进行替换操作，将#key#替换成真实的值", "status": "passed", "steps": [{"name": "字符串中没有要替换的mark", "status": "passed", "start": 1684047829461, "stop": 1684047829468}, {"name": "返回的字符串为str：\n{\"message\": \"Success\"}", "status": "passed", "start": 1684047829468, "stop": 1684047829473}], "parameters": [{"name": "req_str", "value": "'{\"message\": \"Success\"}'"}, {"name": "pattern", "value": "'#(\\w+)#'"}], "start": 1684047829461, "stop": 1684047829473}, {"name": "断言响应结果中的 message字段的值 Success 是否与预期 Success 一致", "status": "passed", "start": 1684047829477, "stop": 1684047829487}], "parameters": [{"name": "resp_dict", "value": "{'data': {'code': 1002, 'message': '', 'data': {'successIdArr': [6548], 'callMtFailureIdArr': [], 'callbackFailureIdArr': [], 'procedureFeeFailureIdArr': [], 'statusChangedIdArr': []}}, 'statusCode': 200, 'message': 'Success'}"}, {"name": "excepted_actions", "value": "'{\"message\": \"Success\"}'"}], "start": 1684047829460, "stop": 1684047829487}], "start": 1684047829459, "stop": 1684047829487}], "start": 1684047829453, "stop": 1684047829487}], "start": 1684047827617, "stop": 1684047829487, "uuid": "2dc8cf01-0cf8-4d0a-b1d2-7604d170ba85", "historyId": "5ef67b19757bf2b42a72d38037213229", "testCaseId": "479f102cd743e74fc041431c1b4174cd", "fullName": "testcase.test_creditcard_deposit_gm.TestCreditCard#test_card_pay_deposit", "labels": [{"name": "suite", "value": "creditCard入金"}, {"name": "tag", "value": "flaky(reruns=2, reruns_delay=2)"}, {"name": "tag", "value": "high"}, {"name": "tag", "value": "@pytest.mark.usefixtures('deposit_withdrawal_info')"}, {"name": "tag", "value": "run(order=0)"}, {"name": "parentSuite", "value": "testcase"}, {"name": "subSuite", "value": "TestCreditCard"}, {"name": "host", "value": "SZVDI043"}, {"name": "thread", "value": "64096-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcase.test_creditcard_deposit_gm"}]}