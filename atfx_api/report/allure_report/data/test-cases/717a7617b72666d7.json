{"uid":"717a7617b72666d7","name":"Skrill出金：出金","fullName":"testcase.test_old_mu_ewallet_withdrawal.TestEWalletWithdrawal#test_skrill_withdrawal","historyId":"06337b6f4a12e086399ad2ff3207313d","time":{"start":1683786431361,"stop":1683786432376,"duration":1015},"description":"\n        出金逻辑如下：\n        通过接口查询交易账号余额，判断余额是否为0，为0跳过用例\n        通过接口查询交易账号是否存在未处理的出金，存在则跳过用例\n        接口查询该账号是否存在Skrill出金方式，不存在则跳过用例\n        以上条件都满足，出金。BOS转成功。断言出金接口返回数据\n        ","descriptionHtml":"<pre><code>    出金逻辑如下：\n    通过接口查询交易账号余额，判断余额是否为0，为0跳过用例\n    通过接口查询交易账号是否存在未处理的出金，存在则跳过用例\n    接口查询该账号是否存在Skrill出金方式，不存在则跳过用例\n    以上条件都满足，出金。BOS转成功。断言出金接口返回数据\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1683786425371,"stop":1683786425685,"duration":314},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"deposit_withdrawal_info","time":{"start":1683786425685,"stop":1683786425685,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"from_bos_to_cp_get_token","time":{"start":1683786425686,"stop":1683786426667,"duration":981},"status":"passed","steps":[{"name":"发起请求，请求url：https://at-bos-api-sit.atfxdev.com/v1/privilege/login，\n请求头：{},\n请求数据：json:{'account': 'tyler.tang', 'passwd': 'a12e16f04b1794c327b5d70f8954ff2f'};\ndata:None;\nfiles:None;\nparams:None","time":{"start":1683786426152,"stop":1683786426154,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"发起请求，请求url：https://at-bos-api-sit.atfxdev.com/v1/mu/loginToClientPortal/login，\n请求头：{'accept-language': 'zh,zh-CN;q=0.9,en;q=0.8', 'authentication': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoidHlsZXIudGFuZyIsImlhdCI6MTY4Mzc4NjQyNiwiZXhwIjoxNjgzODcyODI2fQ.uRdgAQOHY2ypP074RBid1meZxpsr8W_Dqm0N0xJ2KLM'},\n请求数据：json:{'domain': 'https://pj-clipor-int-sit.agile168.com', 'loginType': 'accountNumber', 'loginNumber': 1500000243, 'lang': 'hk', 'entity': 'MU', 'ip': '202.85.14.161'};\ndata:None;\nfiles:None;\nparams:None","time":{"start":1683786426297,"stop":1683786426298,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":2,"hasContent":true}],"testStage":{"description":"\n        出金逻辑如下：\n        通过接口查询交易账号余额，判断余额是否为0，为0跳过用例\n        通过接口查询交易账号是否存在未处理的出金，存在则跳过用例\n        接口查询该账号是否存在Skrill出金方式，不存在则跳过用例\n        以上条件都满足，出金。BOS转成功。断言出金接口返回数据\n        ","status":"passed","steps":[{"name":"判断是否需要对字符串进行替换操作，将#key#替换成真实的值","time":{"start":1683786431363,"stop":1683786431401,"duration":38},"status":"passed","steps":[{"name":"字符串中有要替换的mark,从全局变量或者内置方法中替换mark","time":{"start":1683786431363,"stop":1683786431369,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #ENVIRONMENT# 替换为sit","time":{"start":1683786431389,"stop":1683786431389,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"返回的字符串为str：\nhttps://pj-clipor-int-api-sit.agile168.com/withdrawal","time":{"start":1683786431389,"stop":1683786431401,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"attachments":[],"parameters":[{"name":"req_str","value":"'https://pj-clipor-int-api-#ENVIRONMENT#.agile168.com/withdrawal'"},{"name":"pattern","value":"'#(\\w+)#'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":3,"hasContent":true},{"name":"请求发送以前，对请求数据进行内置方法处理：","time":{"start":1683786431406,"stop":1683786431965,"duration":559},"status":"passed","steps":[{"name":"处理前置sql,判断sql中是否有要替换的mark","time":{"start":1683786431407,"stop":1683786431820,"duration":413},"status":"passed","steps":[{"name":"判断是否需要对字符串进行替换操作，将#key#替换成真实的值","time":{"start":1683786431409,"stop":1683786431458,"duration":49},"status":"passed","steps":[{"name":"字符串中有要替换的mark,从全局变量或者内置方法中替换mark","time":{"start":1683786431409,"stop":1683786431411,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #ENVIRONMENT# 替换为sit","time":{"start":1683786431420,"stop":1683786431420,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #eWalletName# 替换为Skrill","time":{"start":1683786431452,"stop":1683786431452,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"返回的字符串为str：\n{'database':'atfx-sit','muster':'bos_psp_currency','sql':{'pspId':'Skrill'.lower()},'field':['currency']}","time":{"start":1683786431452,"stop":1683786431458,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"attachments":[],"parameters":[{"name":"req_str","value":"'{'database':'atfx-#ENVIRONMENT#','muster':'bos_psp_currency','sql':{'pspId':'#eWalletName#'.lower()},'field':['currency']}'"},{"name":"pattern","value":"'#(\\w+)#'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":4,"hasContent":true},{"name":"将数据库读取的数据作为全局变量：currency : USD","time":{"start":1683786431631,"stop":1683786431632,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"判断是否需要对字符串进行替换操作，将#key#替换成真实的值","time":{"start":1683786431632,"stop":1683786431664,"duration":32},"status":"passed","steps":[{"name":"字符串中有要替换的mark,从全局变量或者内置方法中替换mark","time":{"start":1683786431632,"stop":1683786431634,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #DATABASEAREA# 替换为mu","time":{"start":1683786431644,"stop":1683786431644,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #ENVIRONMENT# 替换为sit","time":{"start":1683786431648,"stop":1683786431648,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #TDcurrency# 替换为USD","time":{"start":1683786431651,"stop":1683786431651,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #currency# 替换为USD","time":{"start":1683786431658,"stop":1683786431658,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"返回的字符串为str：\n{'database':'atfxmu-sit','muster':'atfx_float_rate','sql':{'fromCcy':'USD','toCcy':'USD'},'field':['withdrawalRate']}","time":{"start":1683786431658,"stop":1683786431664,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"attachments":[],"parameters":[{"name":"req_str","value":"'{'database':'atfx#DATABASEAREA#-#ENVIRONMENT#','muster':'atfx_float_rate','sql':{'fromCcy':'#TDcurrency#','toCcy':'#currency#'},'field':['withdrawalRate']}'"},{"name":"pattern","value":"'#(\\w+)#'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":6,"hasContent":true},{"name":"将数据库读取的数据作为全局变量：withdrawalRate : 1.0","time":{"start":1683786431818,"stop":1683786431820,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"attachments":[],"parameters":[{"name":"sql_str","value":"'{'database':'atfx-#ENVIRONMENT#','muster':'bos_psp_currency','sql':{'pspId':'#eWalletName#'.lower()},'field':['currency']},{'database':'atfx#DATABASEAREA#-#ENVIRONMENT#','muster':'atfx_float_rate','sql':{'fromCcy':'#TDcurrency#','toCcy':'#currency#'},'field':['withdrawalRate']}}'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":14,"hasContent":true},{"name":"请求数据json是否有要替换的占位符","time":{"start":1683786431820,"stop":1683786431914,"duration":94},"status":"passed","steps":[{"name":"判断是否需要对字符串进行替换操作，将#key#替换成真实的值","time":{"start":1683786431827,"stop":1683786431914,"duration":87},"status":"passed","steps":[{"name":"字符串中有要替换的mark,从全局变量或者内置方法中替换mark","time":{"start":1683786431827,"stop":1683786431829,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #AREA# 替换为MU","time":{"start":1683786431833,"stop":1683786431833,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #tdaccount# 替换为16300113","time":{"start":1683786431834,"stop":1683786431834,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #tradeAccountType# 替换为mt4","time":{"start":1683786431839,"stop":1683786431839,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #tradeAccountServer# 替换为mt4_s02","time":{"start":1683786431844,"stop":1683786431844,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #tradeAccountGroup# 替换为demoforex","time":{"start":1683786431848,"stop":1683786431848,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #account# 替换为1500000243","time":{"start":1683786431849,"stop":1683786431849,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #fullName# 替换为TEST  TYLER","time":{"start":1683786431850,"stop":1683786431850,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #commissionTD# 替换为True","time":{"start":1683786431852,"stop":1683786431852,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #lang# 替换为CHT","time":{"start":1683786431854,"stop":1683786431854,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #email# 替换为999888887777@qq.com","time":{"start":1683786431856,"stop":1683786431856,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #accType# 替换为IB","time":{"start":1683786431857,"stop":1683786431857,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #country# 替换为AFG","time":{"start":1683786431858,"stop":1683786431858,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #withdrawal_amount# 替换为1101","time":{"start":1683786431859,"stop":1683786431859,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #currency# 替换为USD","time":{"start":1683786431861,"stop":1683786431861,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #settleCcy# 替换为USD","time":{"start":1683786431863,"stop":1683786431863,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #payAccount# 替换为9999999@qq.com","time":{"start":1683786431864,"stop":1683786431864,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #eWalletName# 替换为Skrill","time":{"start":1683786431865,"stop":1683786431865,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #type# 替换为Email","time":{"start":1683786431870,"stop":1683786431870,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从全局变量类的属性中获取值来替换字符串中的mark：将 #gen_cur_time# 替换为1683786431908","time":{"start":1683786431910,"stop":1683786431910,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"返回的字符串为str：\n{\n \"entity\": \"MU\",\n \"tradeAccount\": \"16300113\",\n \"tradeAccountType\": \"mt4\",\n \"tradeAccountServer\": \"mt4_s02\",\n \"tradeAccountGroup\": \"demoforex\",\n \"accountNumber\": 1500000243,\n \"clnName\": \"TEST  TYLER\",\n \"commissionTD\": True,\n \"emailLang\": \"CHT\",\n \"clientEmail\": \"999888887777@qq.com\",\n \"accType\": \"IB\",\n \"country\": \"AFG\",\n \"mtAmt\": \"1101\",\n \"toCcy\": \"USD\",\n \"settleCcy\": \"USD\",\n \"bankCardNo\": \"\",\n \"beneficiaryName\": \"\",\n \"beneficiaryFirstName\": \"\",\n \"beneficiaryMiddleName\": \"\",\n \"beneficiaryLastName\": \"\",\n \"bank\": \"\",\n \"swiftCode\": \"\",\n \"iban\": \"\",\n \"bankAddress\": \"\",\n \"postalCode\": \"\",\n \"remark\": \"\",\n \"channel\": \"ewallet\",\n \"eWalletEmail\": \"9999999@qq.com\",\n \"eWalletName\": \"Skrill\",\n \"eWalletType\": \"Email\",\n \"beneficiaryAddress\": \"\",\n \"bankNameId\": \"\",\n \"branch\": {\n  \"branchName\": \"\",\n  \"branchCity\": \"\",\n  \"branchProvince\": \"\"\n },\n \"createDate\": 1683786431908,\n \"wuuid\": \"16837864319082013359\"\n}","time":{"start":1683786431910,"stop":1683786431914,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"attachments":[],"parameters":[{"name":"req_str","value":"'{\n \"entity\": \"#AREA#\",\n \"tradeAccount\": \"#tdaccount#\",\n \"tradeAccountType\": \"#tradeAccountType#\",\n \"tradeAccountServer\": \"#tradeAccountServer#\",\n \"tradeAccountGroup\": \"#tradeAccountGroup#\",\n \"accountNumber\": #account#,\n \"clnName\": \"#fullName#\",\n \"commissionTD\": #commissionTD#,\n \"emailLang\": \"#lang#\",\n \"clientEmail\": \"#email#\",\n \"accType\": \"#accType#\",\n \"country\": \"#country#\",\n \"mtAmt\": \"#withdrawal_amount#\",\n \"toCcy\": \"#currency#\",\n \"settleCcy\": \"#settleCcy#\",\n \"bankCardNo\": \"\",\n \"beneficiaryName\": \"\",\n \"beneficiaryFirstName\": \"\",\n \"beneficiaryMiddleName\": \"\",\n \"beneficiaryLastName\": \"\",\n \"bank\": \"\",\n \"swiftCode\": \"\",\n \"iban\": \"\",\n \"bankAddress\": \"\",\n \"postalCode\": \"\",\n \"remark\": \"\",\n \"channel\": \"ewallet\",\n \"eWalletEmail\": \"#payAccount#\",\n \"eWalletName\": \"#eWalletName#\",\n \"eWalletType\": \"#type#\",\n \"beneficiaryAddress\": \"\",\n \"bankNameId\": \"\",\n \"branch\": {\n  \"branchName\": \"\",\n  \"branchCity\": \"\",\n  \"branchProvince\": \"\"\n },\n \"createDate\": #gen_cur_time#,\n \"wuuid\": \"#gen_cur_time#2013359\"\n}'"},{"name":"pattern","value":"'#(\\w+)#'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":21,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":22,"hasContent":true},{"name":"请求数据需要加密，通过AES加密传参","time":{"start":1683786431916,"stop":1683786431963,"duration":47},"status":"passed","steps":[{"name":"对字符串进行AES加密","time":{"start":1683786431958,"stop":1683786431961,"duration":3},"status":"passed","steps":[{"name":"AES加密后的值为：nl/C0Ud5oHR+5fW39RmGSjtko4+ktVfMqNzn19WFlz2y9GtwPt5PtMOiZlEom4iDlxlKZ6by2qHLW77GHquFWePDpGKeL4Tw9Gkd37b0kwh+8jN0aMfxJcTT4+h5dYtBXc2bdqLfNwyZ7ytywagho74aVq+vCDNP1vV9a6NVXkPvScSQqRwOFx44x9v+XuRQG79yeWr4CV3wJ4gPXosmDkJ4lqB8GzJVsDoXNn4OdHnW4raRzLinGIaKH9ysq/BOZQskz3tNMvG7Kx5Ph5fvhXDpAuFCXUhBqX66cGiqUCtX9XuOaqGPygFdRRwWM13GPDrGgfp/LnUQiY3GXcUuSiloOSbMyXPGBkuRBux5apQRnD/1OxYvNNoQx2clsiX34+2dGtyX4D6TZqEly6fFXtOTuFXIHXEs2WmKDj60ZFIALeGBmjOAVTsEIVX/Hun0Bg0sAoVyJpgEcJ7II5MPzjjAaLQ/QPWYQcQmdNSLEeZEYz2h8uWdtyB8v1am4Eq1ZQHeVkCGusfQmCCrWgkD4mBRIWeMnPZbkILakytL8YhH23NivbbFtL2vR0TCCZAZpg6C26p8e77uPp8ItOaXw+Jgictn2Y0kTGCz1iCU4IUGDRxA9AL/Nby1ZQN0xg7WxBnSwE7b0/ib/dBQ2OGloJsDdRWvzirMGeEJQu5uBXqcqfy3LNTrruiJKIfERXzfamr8w8u/HJK+TcZSmOkXZi7SyhmLk/b4sa1btt/N02P9DJnjvj1pP6u5ixlDWOWLrjZ+Ult01ETVcyq62iqpDJOPDJdA0ms2W9cBZmyQD2dXpKbJhhie/bQ8DfqdU3J3ZCUdgdT6//MDwbUEn8VSDxIq9PiwjVhcESbtP1KUGuk6Lo/FrZLtFzNrwJ0dn46APfKu8mMA3qzJwwTSIAQelvyufEm9omE6RQrPHCMDiWYgLlcroIAlB5fvQS83TvPXOdfVhn1Bf2g9kvRCOWtb0z0nYH+z7GyGYm0urGIdtDaqSC1/8qDy8zTX19PeHeDVbz2IjTqC9SXglP8uMaQUuQ==","time":{"start":1683786431958,"stop":1683786431961,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"attachments":[],"parameters":[{"name":"key","value":"'AVYRPWR5XME5L6SY'"},{"name":"iv","value":"'0HF3RRO53D3JVW5G'"},{"name":"plaintext","value":"'{\n \"entity\": \"MU\",\n \"tradeAccount\": \"16300113\",\n \"tradeAccountType\": \"mt4\",\n \"tradeAccountServer\": \"mt4_s02\",\n \"tradeAccountGroup\": \"demoforex\",\n \"accountNumber\": 1500000243,\n \"clnName\": \"TEST  TYLER\",\n \"commissionTD\": true,\n \"emailLang\": \"CHT\",\n \"clientEmail\": \"999888887777@qq.com\",\n \"accType\": \"IB\",\n \"country\": \"AFG\",\n \"mtAmt\": \"1101\",\n \"toCcy\": \"USD\",\n \"settleCcy\": \"USD\",\n \"bankCardNo\": \"\",\n \"beneficiaryName\": \"\",\n \"beneficiaryFirstName\": \"\",\n \"beneficiaryMiddleName\": \"\",\n \"beneficiaryLastName\": \"\",\n \"bank\": \"\",\n \"swiftCode\": \"\",\n \"iban\": \"\",\n \"bankAddress\": \"\",\n \"postalCode\": \"\",\n \"remark\": \"\",\n \"channel\": \"ewallet\",\n \"eWalletEmail\": \"9999999@qq.com\",\n \"eWalletName\": \"Skrill\",\n \"eWalletType\": \"Email\",\n \"beneficiaryAddress\": \"\",\n \"bankNameId\": \"\",\n \"branch\": {\n  \"branchName\": \"\",\n  \"branchCity\": \"\",\n  \"branchProvince\": \"\"\n },\n \"createDate\": 1683786431908,\n \"wuuid\": \"16837864319082013359\"\n}'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":1,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":2,"hasContent":true},{"name":"该请求需要传递token，从系统变量中获取cp_token：eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IlNvS0tiaFZOZmNyVlVTdlNWbmZjdy15ZTU2eEZ1YUlLYURNcTR3M2xRVEEifQ.eyJzdWIiOiJjZWQ1NjkzZS1hNjRmLTRhMDAtYjU4MC1lMGI0NjFjMjhlZTkiLCJuYW1lIjoiVEVTVCAgVFlMRVIiLCJlbWFpbCI6Ijk5OTg4ODg4Nzc3N0BxcS5jb20iLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsInBob25lX251bWJlciI6IjkzMTg2OTY5NjY0IiwicGhvbmVfbnVtYmVyX3ZlcmlmaWVkIjpmYWxzZSwicm9sZXMiOltdLCJjdXN0b20iOnsiZGV2aWNlX2lkIjoiIiwiYWNjb3VudE51bWJlciI6MTUwMDAwMDI0M30sImVudGl0eSI6Ik1VIiwiZW5jcnlwdF9zZWNyZXQiOiJIUFRqZ3FneE1zNDNZNWpvVk00eGx3PT0iLCJub25jZSI6IiIsImF0X2hhc2giOiIiLCJzaWQiOiIiLCJhdWQiOiJib3MiLCJleHAiOjE2ODM3OTAwMjYsImlhdCI6MTY4Mzc4NjQyNiwiaXNzIjoiaHR0cHM6Ly9hdC1pZHAtc2l0LmF0ZnhkZXYuY29tIn0.q7sYqHEC_MWi1MCTd0DAj7-LntOgymxyqzV-pwo0BFiAd0dI4Io-LhVfW6ijwnd5fF86iDTqZ9ziXh8qb8Y4jwX-o4Vo7VIrw3GNOfYVGDX1P_JJCtnSWK9LHESIB_3_WJHHEQq1nWRnPAnv1YlEJI42cW9lexEWl9n0r_fJ1XLzCQ6aKt8zBqOeL2Hw_p4iYl7HbcnuY9_3O5paikmtYVIccRrEI9RnR6nbqQ7C9DvuzFhLjDOJk4zZj_2FRT7HzjLzYbqFMb0wJL57cbun6NSdKR7gmz3iGVv9J-j_PUtv5DkXg7AYc3ORzD7e2pmjvBUg5WwTzraeOVSz2iZXdw,\t请求域名：pj-clipor-int-api-sit.agile168.com","time":{"start":1683786431963,"stop":1683786431963,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":42,"hasContent":true},{"name":"发起http/https请求","time":{"start":1683786431965,"stop":1683786432341,"duration":376},"status":"passed","steps":[{"name":"发起请求，请求url：https://pj-clipor-int-api-sit.agile168.com/withdrawal，\n请求头：{'Origin': 'https://pj-clipor-int-sit.agile168.com', 'x-token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IlNvS0tiaFZOZmNyVlVTdlNWbmZjdy15ZTU2eEZ1YUlLYURNcTR3M2xRVEEifQ.eyJzdWIiOiJjZWQ1NjkzZS1hNjRmLTRhMDAtYjU4MC1lMGI0NjFjMjhlZTkiLCJuYW1lIjoiVEVTVCAgVFlMRVIiLCJlbWFpbCI6Ijk5OTg4ODg4Nzc3N0BxcS5jb20iLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsInBob25lX251bWJlciI6IjkzMTg2OTY5NjY0IiwicGhvbmVfbnVtYmVyX3ZlcmlmaWVkIjpmYWxzZSwicm9sZXMiOltdLCJjdXN0b20iOnsiZGV2aWNlX2lkIjoiIiwiYWNjb3VudE51bWJlciI6MTUwMDAwMDI0M30sImVudGl0eSI6Ik1VIiwiZW5jcnlwdF9zZWNyZXQiOiJIUFRqZ3FneE1zNDNZNWpvVk00eGx3PT0iLCJub25jZSI6IiIsImF0X2hhc2giOiIiLCJzaWQiOiIiLCJhdWQiOiJib3MiLCJleHAiOjE2ODM3OTAwMjYsImlhdCI6MTY4Mzc4NjQyNiwiaXNzIjoiaHR0cHM6Ly9hdC1pZHAtc2l0LmF0ZnhkZXYuY29tIn0.q7sYqHEC_MWi1MCTd0DAj7-LntOgymxyqzV-pwo0BFiAd0dI4Io-LhVfW6ijwnd5fF86iDTqZ9ziXh8qb8Y4jwX-o4Vo7VIrw3GNOfYVGDX1P_JJCtnSWK9LHESIB_3_WJHHEQq1nWRnPAnv1YlEJI42cW9lexEWl9n0r_fJ1XLzCQ6aKt8zBqOeL2Hw_p4iYl7HbcnuY9_3O5paikmtYVIccRrEI9RnR6nbqQ7C9DvuzFhLjDOJk4zZj_2FRT7HzjLzYbqFMb0wJL57cbun6NSdKR7gmz3iGVv9J-j_PUtv5DkXg7AYc3ORzD7e2pmjvBUg5WwTzraeOVSz2iZXdw'},\n请求数据：json:{'data': 'nl/C0Ud5oHR+5fW39RmGSjtko4+ktVfMqNzn19WFlz2y9GtwPt5PtMOiZlEom4iDlxlKZ6by2qHLW77GHquFWePDpGKeL4Tw9Gkd37b0kwh+8jN0aMfxJcTT4+h5dYtBXc2bdqLfNwyZ7ytywagho74aVq+vCDNP1vV9a6NVXkPvScSQqRwOFx44x9v+XuRQG79yeWr4CV3wJ4gPXosmDkJ4lqB8GzJVsDoXNn4OdHnW4raRzLinGIaKH9ysq/BOZQskz3tNMvG7Kx5Ph5fvhXDpAuFCXUhBqX66cGiqUCtX9XuOaqGPygFdRRwWM13GPDrGgfp/LnUQiY3GXcUuSiloOSbMyXPGBkuRBux5apQRnD/1OxYvNNoQx2clsiX34+2dGtyX4D6TZqEly6fFXtOTuFXIHXEs2WmKDj60ZFIALeGBmjOAVTsEIVX/Hun0Bg0sAoVyJpgEcJ7II5MPzjjAaLQ/QPWYQcQmdNSLEeZEYz2h8uWdtyB8v1am4Eq1ZQHeVkCGusfQmCCrWgkD4mBRIWeMnPZbkILakytL8YhH23NivbbFtL2vR0TCCZAZpg6C26p8e77uPp8ItOaXw+Jgictn2Y0kTGCz1iCU4IUGDRxA9AL/Nby1ZQN0xg7WxBnSwE7b0/ib/dBQ2OGloJsDdRWvzirMGeEJQu5uBXqcqfy3LNTrruiJKIfERXzfamr8w8u/HJK+TcZSmOkXZi7SyhmLk/b4sa1btt/N02P9DJnjvj1pP6u5ixlDWOWLrjZ+Ult01ETVcyq62iqpDJOPDJdA0ms2W9cBZmyQD2dXpKbJhhie/bQ8DfqdU3J3ZCUdgdT6//MDwbUEn8VSDxIq9PiwjVhcESbtP1KUGuk6Lo/FrZLtFzNrwJ0dn46APfKu8mMA3qzJwwTSIAQelvyufEm9omE6RQrPHCMDiWYgLlcroIAlB5fvQS83TvPXOdfVhn1Bf2g9kvRCOWtb0z0nYH+z7GyGYm0urGIdtDaqSC1/8qDy8zTX19PeHeDVbz2IjTqC9SXglP8uMaQUuQ=='};\ndata:None;\nfiles:None;\nparams:None","time":{"start":1683786432013,"stop":1683786432020,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":1,"hasContent":true},{"name":"处理响应数据","time":{"start":1683786432341,"stop":1683786432376,"duration":35},"status":"passed","steps":[{"name":"将响应数据转换为字典类型","time":{"start":1683786432341,"stop":1683786432348,"duration":7},"status":"passed","steps":[{"name":"将响应的json格式数据转换位字典","time":{"start":1683786432343,"stop":1683786432343,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"响应数据需要解密","time":{"start":1683786432343,"stop":1683786432347,"duration":4},"status":"passed","steps":[{"name":"对字符串进行AES解密","time":{"start":1683786432345,"stop":1683786432347,"duration":2},"status":"passed","steps":[{"name":"AES解密后的值为：{\"ID\":178,\"toCcy\":\"USD\",\"mtAmt\":1101}","time":{"start":1683786432345,"stop":1683786432346,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"attachments":[],"parameters":[{"name":"key","value":"'AVYRPWR5XME5L6SY'"},{"name":"iv","value":"'0HF3RRO53D3JVW5G'"},{"name":"ciphertext","value":"'Ng6M6+Ff9iThRGD+XCisQieFPdK+u55npV9w7tE3TVR+/vDjUx0OpBGLipA6sbwR'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":1,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":2,"hasContent":true},{"name":"最终响应结果为：\n{'code': 1004, 'message': 'DATA_QUERY_SUCCESS', 'data': {'ID': 178, 'toCcy': 'USD', 'mtAmt': 1101}}","time":{"start":1683786432347,"stop":1683786432348,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"attachments":[],"parameters":[{"name":"resp_decrypt","value":"True"},{"name":"resp","value":"<Response [201]>"}],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":5,"hasContent":true},{"name":"从响应结果中提取数据设置为全局变量","time":{"start":1683786432348,"stop":1683786432354,"duration":6},"status":"passed","steps":[{"name":"通过jsonpath表达式从响应结果中提取数据，并设置为全局变量","time":{"start":1683786432349,"stop":1683786432354,"duration":5},"status":"passed","steps":[{"name":"判断是否需要对字符串进行替换操作，将#key#替换成真实的值","time":{"start":1683786432349,"stop":1683786432352,"duration":3},"status":"passed","steps":[{"name":"字符串中没有要替换的mark","time":{"start":1683786432349,"stop":1683786432350,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"返回的字符串为str：\n{\"ID\":\"$..ID\"}","time":{"start":1683786432350,"stop":1683786432352,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"attachments":[],"parameters":[{"name":"req_str","value":"'{\"ID\":\"$..ID\"}'"},{"name":"pattern","value":"'#(\\w+)#'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":2,"hasContent":true},{"name":"需要从响应数据中提取的字段为：['ID']","time":{"start":1683786432352,"stop":1683786432353,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"从响应数据中设置的全局变量为：ID：178","time":{"start":1683786432353,"stop":1683786432354,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"attachments":[],"parameters":[{"name":"extract_str","value":"'{\"ID\":\"$..ID\"}'"},{"name":"resp_data","value":"{'code': 1004, 'message': 'DATA_QUERY_SUCCESS', 'data': {'ID': 178, 'toCcy': 'USD', 'mtAmt': 1101}}"}],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":5,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":6,"hasContent":true},{"name":"断言响应数据","time":{"start":1683786432354,"stop":1683786432376,"duration":22},"status":"passed","steps":[{"name":"判断断言字符串中是否有要替换的占位符","time":{"start":1683786432356,"stop":1683786432376,"duration":20},"status":"passed","steps":[{"name":"判断是否需要对字符串进行替换操作，将#key#替换成真实的值","time":{"start":1683786432357,"stop":1683786432361,"duration":4},"status":"passed","steps":[{"name":"字符串中没有要替换的mark","time":{"start":1683786432357,"stop":1683786432359,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"返回的字符串为str：\n{\"message\":\"DATA_QUERY_SUCCESS\"}","time":{"start":1683786432359,"stop":1683786432361,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"attachments":[],"parameters":[{"name":"req_str","value":"'{\"message\":\"DATA_QUERY_SUCCESS\"}'"},{"name":"pattern","value":"'#(\\w+)#'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":2,"hasContent":true},{"name":"断言响应结果中的 message字段的值 DATA_QUERY_SUCCESS 是否与预期 DATA_QUERY_SUCCESS 一致","time":{"start":1683786432362,"stop":1683786432376,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"attachments":[],"parameters":[{"name":"resp_dict","value":"{'code': 1004, 'message': 'DATA_QUERY_SUCCESS', 'data': {'ID': 178, 'toCcy': 'USD', 'mtAmt': 1101}}"},{"name":"excepted_actions","value":"'{\"message\":\"DATA_QUERY_SUCCESS\"}'"}],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":4,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":5,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":19,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":69,"hasContent":true},"afterStages":[{"name":"from_bos_to_cp_get_token::0","time":{"start":1683786435271,"stop":1683786435271,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"deposit_withdrawal_info::0","time":{"start":1683786435272,"stop":1683786435272,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"labels":[{"name":"suite","value":"电子钱包出金"},{"name":"tag","value":"@pytest.mark.usefixtures('from_bos_to_cp_get_token')"},{"name":"tag","value":"high"},{"name":"tag","value":"run(order=8)"},{"name":"parentSuite","value":"testcase"},{"name":"subSuite","value":"TestEWalletWithdrawal"},{"name":"host","value":"SZVDI043"},{"name":"thread","value":"24288-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"testcase.test_old_mu_ewallet_withdrawal"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":["high","@pytest.mark.usefixtures('from_bos_to_cp_get_token')","run(order=8)"]},"source":"717a7617b72666d7.json","parameterValues":[]}